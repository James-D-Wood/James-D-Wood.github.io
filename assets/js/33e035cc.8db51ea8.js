"use strict";(self.webpackChunkjames_codes=self.webpackChunkjames_codes||[]).push([[8500],{8453:(e,s,i)=>{i.d(s,{R:()=>a,x:()=>c});var t=i(6540);const n={},l=t.createContext(n);function a(e){const s=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),t.createElement(l.Provider,{value:s},e.children)}},8657:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"best-practices/code-review","title":"Code Review","description":"The following are my thoughts and runbook on how to do an effective code review.","source":"@site/docs/work/best-practices/code-review.md","sourceDirName":"best-practices","slug":"/best-practices/code-review","permalink":"/work/best-practices/code-review","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"workSidebar","previous":{"title":"Best Practices","permalink":"/work/category/best-practices-1"},"next":{"title":"Topics","permalink":"/work/best-practices/topics"}}');var n=i(4848),l=i(8453);const a={},c="Code Review",o={},r=[{value:"Philosophy",id:"philosophy",level:2},{value:"Role of the Reviewer",id:"role-of-the-reviewer",level:3},{value:"Reviewing for Substance not Style",id:"reviewing-for-substance-not-style",level:3},{value:"Review Should be Fast",id:"review-should-be-fast",level:3},{value:"Changes Should be Small",id:"changes-should-be-small",level:3},{value:"Discourse Should be Empathetic",id:"discourse-should-be-empathetic",level:3},{value:"Reviews Step by Step",id:"reviews-step-by-step",level:2},{value:"Pre-Review Checklist",id:"pre-review-checklist",level:3},{value:"Review Checklist",id:"review-checklist",level:3},{value:"Functionality &amp; Logic",id:"functionality--logic",level:4},{value:"Code Quality",id:"code-quality",level:4},{value:"Testing &amp; Documentation",id:"testing--documentation",level:4},{value:"Security",id:"security",level:4},{value:"Performance",id:"performance",level:4},{value:"Architecture &amp; Design",id:"architecture--design",level:4},{value:"Positive Feedback",id:"positive-feedback",level:4},{value:"References",id:"references",level:2},{value:"General",id:"general",level:3},{value:"Language Specific",id:"language-specific",level:3}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"code-review",children:"Code Review"})}),"\n",(0,n.jsx)(s.p,{children:"The following are my thoughts and runbook on how to do an effective code review."}),"\n",(0,n.jsx)(s.h2,{id:"philosophy",children:"Philosophy"}),"\n",(0,n.jsx)(s.h3,{id:"role-of-the-reviewer",children:"Role of the Reviewer"}),"\n",(0,n.jsx)(s.p,{children:"A reviewer is there to help maintain the garden, but not stop others from planting. They may offer tips but should respect the autonomy in style of others and focus only on what may lead to damaging weeds or pests."}),"\n",(0,n.jsxs)(s.p,{children:["From Google's ",(0,n.jsx)(s.code,{children:"'The Standard of Code Review'"})]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:"In general, reviewers should favor approving a CL once it is in a state where it definitely improves the overall code health of the system being worked on, even if the CL isn\u2019t perfect."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"reviewing-for-substance-not-style",children:"Reviewing for Substance not Style"}),"\n",(0,n.jsxs)(s.p,{children:["Giving feedback on style without a basis in functionality is often pedantic and not good for relationship building with other developers or the health of a code base. I prefer languages that aim to remove opinionated style (see ",(0,n.jsx)(s.code,{children:"go fmt"}),") or support tooling that allows for codified style (ie: ",(0,n.jsx)(s.code,{children:"prettier"}),"). This removes needless friction in code review."]}),"\n",(0,n.jsx)(s.h3,{id:"review-should-be-fast",children:"Review Should be Fast"}),"\n",(0,n.jsx)(s.p,{children:"The longer it takes to get a review through, the more frustrated the contributor will be. On top of that, development work that stacks on top of a change that is wasted will ultimately need to be reworked."}),"\n",(0,n.jsx)(s.h3,{id:"changes-should-be-small",children:"Changes Should be Small"}),"\n",(0,n.jsx)(s.p,{children:"In order to facilitate fast and thorough review, change sets should be kept to a minimum to reduce feedback loops and cognitive load on a reviewer."}),"\n",(0,n.jsx)(s.h3,{id:"discourse-should-be-empathetic",children:"Discourse Should be Empathetic"}),"\n",(0,n.jsx)(s.p,{children:"Disagreements between reviewer and contributor are inevitable - but each party should approach feedback and discourse with the proper empathy for the other engineer. At the end of the day, we are all working toward the same goal."}),"\n",(0,n.jsxs)(s.p,{children:["I find that ",(0,n.jsx)(s.a,{href:"https://conventionalcomments.org/",children:"conventional comments"})," are a way to provide feedback in a clear, concise and kind way."]}),"\n",(0,n.jsx)(s.h2,{id:"reviews-step-by-step",children:"Reviews Step by Step"}),"\n",(0,n.jsx)(s.h3,{id:"pre-review-checklist",children:"Pre-Review Checklist"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","I understand the change"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","I agree that the change should be made"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","I agree that the change is the correct solution to the problem"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","CI is passing"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Time is blocked for focus on the review"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"review-checklist",children:"Review Checklist"}),"\n",(0,n.jsx)(s.h4,{id:"functionality--logic",children:"Functionality & Logic"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is the stated problem or goal of the change being solved?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are any potential edge cases handled correctly?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is error handling comprehensive?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are there any bugs or logical errors?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are there potential concurrency issues?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"code-quality",children:"Code Quality"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is the code readable and well-structured?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are variable and function names descriptive?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is the code following established patterns and conventions?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are functions/methods appropriately sized?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is there unnecessary code duplication?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"testing--documentation",children:"Testing & Documentation"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are there appropriate tests for new functionality?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Do tests cover edge cases and error conditions?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is documentation updated (README, API docs, comments)?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are complex algorithms or business logic commented?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are breaking changes clearly documented?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"security",children:"Security"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are there any security vulnerabilities?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is sensitive data properly handled?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"performance",children:"Performance"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are there performance implications?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are database queries optimized?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is memory usage reasonable?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"architecture--design",children:"Architecture & Design"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Does the code fit well with existing architecture?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are abstractions appropriate?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Is the code modular and maintainable?"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Are dependencies appropriate and necessary?"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"positive-feedback",children:"Positive Feedback"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Find something to compliment in the change"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Express genuine delight when it occurs"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,n.jsx)(s.h3,{id:"general",children:"General"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://google.github.io/eng-practices/review/reviewer",children:"Google's Eng Practices - Code Review"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://blog.pragmaticengineer.com/good-code-reviews-better-code-reviews/",children:"Gerglely Orosz on Better Code Reviews"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://conventionalcomments.org/",children:"Conventional Comments"})}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"language-specific",children:"Language Specific"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://google.github.io/styleguide/go/",children:"Google's Go Style Guide"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://go.dev/wiki/CodeReviewComments",children:"Go - Common Code Review Comments"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://go.dev/doc/effective_go",children:"Go - Effective Go"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);